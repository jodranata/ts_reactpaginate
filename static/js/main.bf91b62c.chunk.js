(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"./src/index.tsx":function(e,t,a){"use strict";a.r(t);var n=a("./node_modules/react/index.js"),r=a.n(n),s=a("./node_modules/react-dom/index.js"),c=a.n(s),l=a("./node_modules/@babel/runtime/regenerator/index.js"),i=a.n(l),o=a("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),u=a.n(o),m=a("./node_modules/@babel/runtime/helpers/slicedToArray.js"),d=a.n(m),p=a("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),f=a.n(p),b=function(e){var t=e.data,a=e.startFrom,r=e.itemsPerPage||10,s=Object(n.useState)(t),c=d()(s,2),l=c[0],i=c[1],o=Object(n.useState)(!1),u=d()(o,2),m=u[0],p=u[1],b=Math.ceil(l.length/r),h=[],E=Object(n.useState)(a<=b?a:1),v=d()(E,2),g=v[0],y=v[1],N=Object(n.useState)(f()(l).slice((g-1)*r,g*r)),x=d()(N,2),C=x[0],j=x[1];Object(n.useEffect)((function(){j(f()(l).slice((g-1)*r,g*r)),m&&(y(1),p(!1))}),[l,r,g,m]);var P=function(e,t,a){return h.push({id:e,current:t,ellipsis:a})},k=!1,S=!1;Array.from({length:b},(function(e,t){return t+1})).forEach((function(e){var t=e<2||e>b-1||e===g-1||e===g+1,a=e>1&&e<g&&!k,n=e<b&&e>g&&!S;return e===g?P(e,!0,!1):t?P(e,!1,!1):a?(k=!0,P(e,!1,!0)):n?(S=!0,P(e,!1,!0)):void 0}));return{slicedData:C,pagination:h,changePage:function(e,a){a.preventDefault(),e!==g&&(y(e),j(f()(t).slice((e-1)*r,e*r)))},filteredData:l,prevPage:function(e){e.preventDefault(),y((function(e){return e-1==0?1:e-1})),1!==g&&j(f()(t).slice((g-2)*r,(g-1)*r))},nextPage:function(e){e.preventDefault(),y((function(e){return e===b?e:e+1})),g!==b&&j(f()(t).slice(g*r,(g+1)*r))},setSearching:p,setFilteredData:i}},h=function(e){var t=e.data,a=e.startFrom,s=e.itemsPerPage,c=e.searchByOptions,l=b({data:t,startFrom:a,itemsPerPage:s}),i=l.slicedData,o=l.changePage,u=l.prevPage,m=l.nextPage,p=l.pagination,h=l.filteredData,E=l.setSearching,v=l.setFilteredData,g=Object(n.useState)(""),y=d()(g,2),N=y[0],x=y[1],C=Object(n.useState)(c&&c.length>0?c[0].value:""),j=d()(C,2),P=j[0],k=j[1],S=Object(n.useState)(""),O=d()(S,2),w=O[0],D=O[1],_=Object(n.useState)("name"),F=d()(_,2),K=F[0],A=F[1],B=Object(n.useState)("asc"),R=d()(B,2),T=R[0],J=R[1],L=function(e,t,a){return e.sort((function(e,n){var r=e[t]||"",s=n[t]||"";return"asc"===a?r<s?-1:r>s?1:0:r<s?1:r>s?-1:0}))};return r.a.createElement("div",{className:"wrapper"},c&&c.length>0&&r.a.createElement("form",{className:"my-3 is-flex is-justify-content-center"},r.a.createElement("div",{className:"select is-info mr-2"},r.a.createElement("select",{name:"search options",onChange:function(e){return k(e.target.value)}},c.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.label)})))),r.a.createElement("div",{className:"field mr-2"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{type:"text",className:"input",placeholder:"Search...",value:N,onChange:function(e){return x(e.target.value)}}))),r.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),E(!0);var a=f()(t).filter((function(e){return"".concat(e[P||"name"]||"").toLowerCase().includes(N.trim().toLowerCase())})),n=L(f()(a),K,T);v(n),D(N),E(!1)},className:"button"},"Search")),D&&r.a.createElement("h2",{className:"mb-6 has-text-centered is-size-2"},"Search Results for: ".concat(w)),i.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("table",{className:"table is-fullwidth is-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,[{label:"Country",sortKey:"name"},{label:"Capital",sortKey:"capital"},{label:"Country Code",sortKey:"iso2"},{label:"Currency",sortKey:"currency"},{label:"Phone Code",sortKey:"phone_code"}].map((function(e){return r.a.createElement("th",{key:e.sortKey,onClick:function(){return function(e,t){K!==e&&A(e),T!==t&&J(t);var a=L(f()(h),e,t);v(a)}(e.sortKey,K===e.sortKey&&"asc"===T?"desc":"asc")}},e.label,K===e.sortKey&&r.a.createElement("span",{className:"icon"},"asc"===T?r.a.createElement("i",{className:"fas fa-sort-up"}):r.a.createElement("i",{className:"fas fa-sort-down"})))})))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.capital),r.a.createElement("td",null,e.iso2),r.a.createElement("td",null,e.currency),r.a.createElement("td",null,e.phone_code))})))),r.a.createElement("nav",{className:"pagination is-rounded"},r.a.createElement("button",{type:"button",className:"pagination-previous",onClick:u},"Prev"),r.a.createElement("button",{type:"button",className:"pagination-next",onClick:m},"Next"),r.a.createElement("ul",{className:"pagination-list"},p.length>=1&&p.map((function(e){return e.ellipsis?r.a.createElement("li",{key:e.id},r.a.createElement("span",{className:"pagination-ellipsis"},"â€¦")):r.a.createElement("li",{key:e.id},r.a.createElement("button",{type:"button",className:"pagination-link ".concat(e.current?"is-current":""),onClick:function(t){return o(e.id,t)}},e.id))}))))):r.a.createElement("div",{className:"message is-link"},r.a.createElement("div",{className:"message-body has-text-centered"},"No Results")))};h.defaultProps={searchByOptions:[]};var E=h,v=function(e){var t=e.title;return r.a.createElement("div",{className:"hero is-dark has-text-centered has-text-light"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title"},t))))},g=function(){var e=Object(n.useState)([]),t=d()(e,2),a=t[0],s=t[1],c=function(){var e=u()(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://raw.githubusercontent.com/dr5hn/countries-states-cities-database/master/countries.json");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,s(a),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",{error:!0,message:"Error Fetch Data"});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){c()}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(v,{title:"Typescript React Pagination"}),r.a.createElement("div",{className:"container px-2"},a.length>0&&r.a.createElement(E,{data:a,startFrom:1,searchByOptions:[{label:"Country",value:"name"},{label:"Capital",value:"capital"},{label:"Country Code",value:"iso2"},{label:"Currency",value:"currency"},{label:"Phone Code",value:"phone_code"}]}),a.length>0&&r.a.createElement(E,{data:a,startFrom:3,itemsPerPage:15})))};a("./node_modules/bulma/css/bulma.min.css"),a("./src/scss/customVar.scss");c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))},"./src/scss/customVar.scss":function(e,t,a){}},[["./src/index.tsx",2,1,3]]]);